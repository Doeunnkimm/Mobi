## React 의존성 주입

### 의존성

`의존대상 B가 변하면, 그것이 A에 영향을 미친다.`

- 소프트웨어 개발에 있어서 의존성이란
  - 특정 객체가 어떤 요청 및 기능을 수행함에 있어서 외부 객체의 도움을 받을 때
  - 이 외부 객체를 특정 객체의 의존성이라고 한다\

<br>

### 의존성이 위험한 이유

- A가 B에 의존중이라면, B의 변경은 A에게 영향을 끼친다
- 이런 의존의 영향은 꼬리에 꼬리는 문 것처럼 도미노처럼 전파된다
- 예를 들어 A는 B에 의존하고, B는 C에 의존한다면
  - C가 변경되면 B를 변경해야 하고, 이어서 A를 변경해야 한다.

⭐ 과도한 의존성은 모듈의 재사용을 어렵게 만든다

<br>

### 의존성 주입(DI, Dependency Injection)

- 위에서 말한 의존성의 위험성을 해소하기 위해 사용되는 패턴
- 의존 관계를 외부에서 결정(주입)해주는 것
- 이를 통해 컴포넌트는 직접 의존성을 생성하지 않고, 외부로부터 필요한 리로스나 데이터를 제공받는 것

<br>

### 컴포넌트의 많은 의존성

- 컴포넌트가 의존하는 것은 대체로 다음과 같다
  1. **스타일**
     - css-in-js의 경우 import하여 가져온 styles.ts 파일을 의미
  2. **로직**
     - 상태 관리 혹은 내부 로직과 관련된 코드들을 의미
  3. **전역 상태**
     - redux, react-query, recoil 등이 여기에 해당
  4. **props (상위 컴포넌트 의존성)**
     - props도 변경되면 상위 컴포넌트도 같이 변경되기 때문에 서로 의존한다고 할 수 있다

<br>

### 그래서! React에서 의존성 주입을 한다는 것은

- 한 컴포넌트 안에서 함께 존재하는 view 로직과 비즈니스 로직 사이에는 의존성이 존재한다고 말한다
- 쉽게 말하면, 복잡해 보이는 컴포넌트를 의존성 주입을 통해
  - 외부로 부터 의존성을 부여 받아 = 외부로 로직을 분리하여
  - 해당 컴포넌트는 나로인한 의존성을 고려하는 것보다 view의 역할에 충실할 수 있다
