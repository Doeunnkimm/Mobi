# NextJS 12v & 13vì—ì„œ SSR, SSG, ISR êµ¬í˜„

ì´ë²ˆ ê¸€ì—ì„œëŠ” v12ê³¼ v13 ë²„ì „ì—ì„œ SSR, SSG, ISRì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.

```
â­ï¸ v13ì—ì„œëŠ” axiosë¼ëŠ” third-party ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…ë©ë‹ˆë‹¤.
```

## ğŸ˜ SSR

### v12 : getServerSideProps

12ë²„ì „ì—ì„œ SSRì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” `getServerSideProps`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```jsx
export async function getServerSideProps() {
  return {
    props: { time: new Date().toISOString() },
  }
}

export default function Home({ time }) {
  return <h1>{time}</h1>
}
```

`getServerSideProps` í•¨ìˆ˜ì˜ ë¦¬í„´ ê°ì²´ì— propsë¼ëŠ” í‚¤ê°’ìœ¼ë¡œ ì „ë‹¬í•˜ê³  ì‹¶ì€ ë°ì´í„°ë¥¼ ë‹´ìŠµë‹ˆë‹¤.

### v13 : revalidate = 0 & cache

13ë²„ì „ì—ì„œëŠ” `getServerSideProps`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  revalidateì™€ cache ë©”ì„œë“œë¥¼ í†µí•´ SSGë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import { cache } from 'react'

export const revalidate = 0 // SSR

const Home = cache(async () => {
  const data = await getData()

  return <div>{data}</div>
})

export default Home
```

## ğŸ˜ SSG

### v12 : getStaticProps

12ë²„ì „ì—ì„œëŠ” `getStaticProps`ë¥¼ í†µí•´ SSGë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
export async function getStaticProps() {
    return {
        props: { time: new Date().toISOString() },
    };
}

export default function SSG({ time }) {
    return (
        ...
    )
}
```

### v13 : default

13ë²„ì „ì—ì„œëŠ” ì•„ë¬´ ê²ƒë„ ëª…ì‹œí•´ì£¼ì§€ ì•Šìœ¼ë©´ SSGê°€ ë©ë‹ˆë‹¤.

```js
const Home = async () => {
  const data = await getData()

  return <div>{data}</div>
}
```

ë§Œì•½ ëª…ì‹œì ìœ¼ë¡œ SSGì„ì„ ë‚˜íƒ€ë‚´ì£¼ê³  ì‹¶ë‹¤ë©´ revalidate = falseë¥¼ í•´ì£¼ë©´ ë©ë‹ˆë‹¤! ì´ê²Œ defaultë¼ì„œ !

```js
import { cache } from 'react'

export const revalidate = false // SSG

const Home = cache(async () => {
  const data = await getData()

  return <div>{data}</div>
})

export default Home
```

## ğŸ˜ ISR

### v12 : getStaticProps & revalidate

```jsx
export async function getStaticProps() {
    return {
        props: { time: new Date().toISOString() },
        revalidate: 1, // 1ì´ˆ
    };
}

export default function ISR({ time }) {
    return (
        ...
    )
}
```

### v13 : revalidate = N & cache

13ë²„ì „ì—ì„œëŠ” revalidateì— íŠ¹ì • ì£¼ê¸°ë¥¼ ëª…ì‹œí•´ì£¼ê³  cache ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ISR êµ¬í˜„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```js
import { cache } from 'react'

export const revalidate = 5 // ISR (5ì´ˆ)

const Home = cache(async () => {
  const data = await getData()

  return <div>{data}</div>
})

export default Home
```
