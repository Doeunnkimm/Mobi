# TDD와 테스트 코드

이번 포스팅에서는 TDD와 테스트 코드에 대해 알아본다.

## 🤔 TDD (Test Driven Development)

```
⭐️ 테스트 코드를 먼저 작성하는 개발 프로세스
```

### TDD는 이런 절차로 진행돼요

TDD 프로세스는 다음 단계를 따른다.

<p align="center"><img src="https://media.fastcampus.co.kr/wp-content/uploads/2021/03/tdd_img_3.png" /></p>

1. **테스트 코드 작성**

   우선 구현하려는 동작을 설명하는 테스트 코드를 작성한다. 이때 아직 동작을 구현하는 코드를 작성하지 않았으므로 테스트는 실패하는 것이 맞다.

2. **테스트 실행**

   테스트를 실행한다. 위에서 언급했듯이, 코드를 작성하지 않았으므로 실패해야 한다.

3. **코드 작성**

   1번에 작성했던 설명에 부합하는 코드를 작성한다. 이때 테스트를 통과하기 위한 목적으로만 작성해야 한다.

   ⭐️ 테스트 목표에 집중하여 작성하는 것이 중요

4. **테스트 실행**

   테스트를 다시 실행한다.

5. **리팩터링**

   테스트를 통과하면 코드를 리팩터링한다.

### TDD는 이런 점이 좋아요

- 개발자는 구현하려는 동작에 대해 먼저 생각하게 된다.
- 즉각적인 테스트를 통해 코드의 버그를 빨리 발견하고 수정할 수 있어 초반부터 코드의 안전성이 높아진다.
- 테스트 케이스를 통해 코드의 작동 방식과 요구사항을 명확히 파악할 수 있다. 팀의 다른 구성원이 코드를 확인하거나 이해할 때 테스트 케이스가 있으면 빠르게 이해할 수 있어 협업의 효율성이 향상된다.
- 개발 과정이 종료된 후에도 테스트 케이스를 지속적으로 사용하여 코드 변경에 따른 기존 기능에 문제가 없는지 확인할 수 있다.

```
⭐️ TDD는 프로젝트의 유지보수성을 향상시키고, 시간이 지나도 프로젝트 관리가 용이해진다.
   더 나은 코드 품질, 안정성 유지가 가능해짐으로써 프로젝트 대응력이 높아진다.
```

### 테스트? 뭘 테스트하는 건가요?

```
⭐️ 개별 컴포넌트나 함수가 주어진 입력에 대해 올바르게 동작하는지 확인하거나
  서로 다른 커뫂넌트나 모듈이 올바르게 연결되고 상호작용하는지 확인 등!

  → 의도한 대로 잘 동작하는지를 테스트
```

### 테스트 코드를 작성하면 좋은 점

```
⭐️ 애플리케이션을 실행시키지 않고도 동작을 확인할 수 있다.
⭐️ 코드의 신뢰성이 향상된다.
```

### 테스트 코드를 도입하기 전 생각해봐야 하는 점

```
⭐️ 테스트 코드 작성에 시간이 소요된다.
⭐️ 테스트 라이브러리와 관련된 학습 시간이 필요하다.
```

### 테스트 종류

#### 1. 단위 테스트 (Unit Test)

```
툴: Jasmine, Jest, Karma, Mocha
```

```
⭐️ 함수나 메서드와 같은 작은 단위의 코드를 테스트하는 데 중점

→ 코드의 각 단위가 예상대로 작동하고 요구 사항을 충족하는 지 테스트
```

#### 2. 통합 테스트 (Integration Test)

```
툴: Jest, Testing Library
```

```
⭐️ 시스템의 여러 단위 또는 구성 요소 간의 상호 작용을 검증

→ 서로 다른 단위가 함께 동작하면서 흐름에 맞게 잘 동작하고, 예상한 결과를 생성하는 지 테스트
```

#### 4. E2E 테스트 (End-To-End Test)

```
툴: Cypress, Puppeteer
```

```
⭐️ 시스템의 시작부터 끝까지 전체 흐름을 확인하는 테스트 유형

→ 시스템이 예상대로 작동하고 사용자의 요구사항을 충족하는지 확인하기 위해
   모든 구성 요소와 해당 구성 요소의 상호작용을 테스트
```

### TDD에 대한 오해와 진실

#### 1. TDD는 무조건 좋은 것?

```
⭐️ 아니다. TDD를 사용했을 때의 초기비용은 사용하지 않았을 때보다 크다.
```

개발자가 작성해야 하는 코드가 늘어나는 것이기 때문에, 기능 하나를 추가할 때마다 시간이 늘어난다고 본다면 TDD는 오히려 비효율적인 것처럼 보이기도 한다.

<p align="center"><img src="https://media.fastcampus.co.kr/wp-content/uploads/2021/03/tdd_img_7.png" /></p>

```
⭐️ 초기 비용은 더 많이 들 수 있지만,
   이미 환경세팅이 잘 되어 있는 업무 환경이라면 장기적으로는 효과적이다.
```

#### 2. TDD는 버그를 박멸한다?

```
⭐️ TDD를 사용하면 사전에 버그를 발견할 수 있는 것이다. 박멸하는 것은 아니다.
   버그를 보다 빠르고 효과적으로 개선할 수 있도록 개발자를 도와줄 수는 있다.
```

## 🤔 프론트엔드에서 많이 사용되는 툴

```
⭐️ Jest, React Testing Library, Cypress
```

## 🤔 Next.js + TypeScript 환경에서 Test 해보기

[Link](https://github.com/Doeunnkimm/Frontend/tree/main/my-study-nextjs/test)

# 참고

- [TDD란? 테스트주도개발에 대한 편견과 실상, 방법론](https://media.fastcampus.co.kr/knowledge/dev/tdd/)
- [프론트엔드 테스트 - TDD와 종류(Unit, Integration, E2E)](https://soojae.tistory.com/74)
- [프론트엔드에서 테스트코드 짜기](https://kooku0.github.io/blog/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C%EC%97%90%EC%84%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%BD%94%EB%93%9C%20%EC%A7%9C%EA%B8%B0/)
- [Next.js - Optimizing: Testing](https://nextjs.org/docs/pages/building-your-application/optimizing/testing)
